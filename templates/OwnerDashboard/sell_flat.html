

<div class="mt-5 me-5 mb-4">
  <h4 class="mt-2 mb-5 text-secondary text-decoration-underline text-center">
    Fill With Your Flat Details
  </h4>
  <form
    class="form"
    method="POST"
    action="{% url 'sell_property' 'flat' %}"
    enctype="multipart/form-data"
    id="sell-flat-form"
  >
    {% csrf_token %}
    <div class="input-group mb-3 mt-4" required>
      <select class="form-select mb-3" id="divission" name="divission">
          <option value="" selected="selected">chose your division</option>
      </select>
    </div>
    <div class="input-group mb-3" required>
      <select class="form-select mb-3" id="district" name="district">
        <option value="" selected="selected">select district</option>
      </select>
    </div>

    <div class="input-group mb-3" required>
      <select class="form-select mb-3" name="location" id="location" >
         <option value="" selected="selected">select your property located area</option>
      </select> 
      </div>

    <div class="input-group mb-3">
      <span class="input-group-text">
        <i class="fa-solid fa-bangladeshi-taka-sign text-center pt-2"></i>
      </span>
      <input
        type="text"
        name="price"
        class="form-control me-2"
        aria-label="Amount (to the nearest dollar)"
        placeholder="Ammount You Require For"
        required
      />

      <select class="form-select ms-3" name="ammount" id="inputGroupSelect02">
        <option selected value="Lakhs">Lakhs</option>
        <option value="Crore">Crore</option>
      </select>
    </div>

    <div class="d-flex gap-4">
      <div class="input-group mb-3 mt-4" required>
        <select
          class="form-select mb-3"
          name="floors_count"
          id="inputGroupSelect02"
        >
          <option selected>Floor No.</option>
          <option value="1">1st</option>
          <option value="2">2nd</option>
          <option value="3">3rd</option>
          <option value="4">4th</option>
          <option value="5">5th</option>
          <option value="6">6th</option>
          <option value="7">7th</option>
          <option value="8">8th</option>
        </select>
      </div>

      <div class="input-group mb-3 mt-4" required>
        <select
          class="form-select mb-3"
          name="floor_face"
          id="inputGroupSelect02"
        >
          <option selected>Floor Face</option>
          <option value="North">North</option>
          <option value="South">South</option>
          <option value="East">East</option>
          <option value="West">West</option>
        </select>
      </div>
    </div>

    <textarea
      name="details"
      id=""
      cols="80"
      rows="8"
      class="form-control mt-4 mb-4"
      style="resize: none"
      placeholder="Write Details About Your Flat Ellaborately"
    ></textarea>

    <div class="d-flex gap-3">
      <label class="form-label text-secondary mt-1 fw-bold" for="customFile"
        >Upload Photo Of Your Land</label
      >
      <input
        type="file"
        name="photo_url"
        class="form-control mb-5 w-50"
        id="customFile"
      />
    </div>

    <input class="btn bg-color ms-2 me-3 mb-5" type="submit" value="Submit" />

    <input class="btn bg-color ms-3 mb-5" type="reset" value="Reset" />
  </form>
</div>

<script>
  
  var subjectObject = {
    "Dhaka": {
      "Dhaka": ["mirpur10", "Gulsan", "Agargaw", "Motizil", "Bosundara"]
    },
    "Chittagong": {
      "Chittagong": ["Andorkilla", "New market", "Chawbazar", "Kulshi"],
    }
  };

  window.onload = function() {
    var sellLandForm = document.getElementById("sell-land-form");
    var sellFlatForm = document.getElementById("sell-flat-form");

    if (sellLandForm) {
      var subjectSel = sellLandForm.querySelector("#division");
      var topicSel = sellLandForm.querySelector("#district");
      var chapterSel = sellLandForm.querySelector("#location");
    }

    if (sellFlatForm) {
      var subjectSel = sellFlatForm.querySelector("#divission");
      var topicSel = sellFlatForm.querySelector("#district");
      var chapterSel = sellFlatForm.querySelector("#location");
    }

    for (var x in subjectObject) {
      subjectSel.options[subjectSel.options.length] = new Option(x, x);
    }

    subjectSel.onchange = function() {
      chapterSel.length = 1;
      topicSel.length = 1;

      for (var y in subjectObject[this.value]) {
        topicSel.options[topicSel.options.length] = new Option(y, y);
      }
    }

    topicSel.onchange = function() {
      chapterSel.length = 1;

      var z = subjectObject[subjectSel.value][this.value];
      for (var i = 0; i < z.length; i++) {
        chapterSel.options[chapterSel.options.length] = new Option(z[i], z[i]);
      }
    }
  }



</script>